var h=Object.defineProperty;var m=(o,e,t)=>e in o?h(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var s=(o,e,t)=>m(o,typeof e!="symbol"?e+"":e,t);import{C as p,O as v,S as u,P as _,W as g,D as f,b as w,_ as b}from"./_plugin-vue_export-helper-DaHlF_CF.js";import{G as T}from"./GLTFLoader-BCqFetf4.js";import{d as x,r as c,o as H,g as P,a as S,c as k,b as y,h as z,i as C}from"./index-BOpLQiOP.js";const M="/spaceportfolio/assets/mory.png",L="/spaceportfolio/assets/morymobile.png",F="/spaceportfolio/assets/pop.png",R="/spaceportfolio/assets/popmobile.png",V="/spaceportfolio/assets/home.png",E="/spaceportfolio/assets/homemob.png";class j{constructor(e){s(this,"mesh");s(this,"loader");s(this,"clock",new p);s(this,"animation");s(this,"mixer",null);s(this,"width");this.loader=new T,this.mesh=new v,this.width=e}tick(){}async loadMesh(){const e=await this.loader.loadAsync("/spaceportfolio/models/machine/scene.gltf");this.mesh=e.scene,this.animation=e.animations,this.mesh.scale.set(30,30,30),this.mesh.position.y=1,this.width<900&&this.mesh.scale.set(27,27,27)}}class B{constructor(e,t){s(this,"scene");s(this,"renderer");s(this,"camera");s(this,"meshs");s(this,"mouseXPos");s(this,"mouseYPos");s(this,"scrollProgress");s(this,"height");s(this,"ref");s(this,"cameraSteps");s(this,"segmentProgress");s(this,"pixelRatio");this.cameraSteps=[{x:0,y:1.62,z:0},{x:0,y:1,z:.5},{x:.5,y:.5,z:.2},{x:1,y:1.2,z:.5},{x:1,y:2,z:0},{x:0,y:.5,z:.7},{x:-.2,y:1.1,z:0}],this.scrollProgress=0,this.segmentProgress=0;const{width:i,height:a}=e.getBoundingClientRect();this.height=a,this.ref=e,this.meshs=[],this.scene=new u,this.mouseXPos=0,this.mouseYPos=0,this.camera=new _(45,i/a),this.camera.position.set(0,1.62,0),this.camera.lookAt(0,1,0),this.pixelRatio=i<900?Math.min(window.devicePixelRatio,1.5):window.devicePixelRatio,this.renderer=new g({antialias:i>900,powerPreference:"low-power"}),this.renderer.setClearColor(0,0),this.renderer.setPixelRatio(this.pixelRatio);const n=window.devicePixelRatio>1;this.renderer.setSize(i,a,n);const r=new f(16777215,8);r.position.set(1,1,2).normalize(),this.scene.add(r);const d=new w(4210752,30);this.scene.add(d),t.appendChild(this.renderer.domElement);const l=new j(i);(async()=>{await l.loadMesh(),this.meshs.push(l),this.addChildren(),this.setView(),this.registerEventListeners(),this.tick()})()}tick(){this.renderer.render(this.scene,this.camera),this.tickChildren(),this.moveMachine(),requestAnimationFrame(()=>{this.tick()})}addChildren(){for(let e=0;e<this.meshs.length;e++)this.scene.add(this.meshs[e].mesh)}tickChildren(){for(let e=0;e<this.meshs.length;e++)this.meshs[e].tick()}setView(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)}isSectionVisible(){return this.ref?this.ref.getBoundingClientRect().top<=0:!1}registerEventListeners(){window.onresize=()=>{this.setView()},window.addEventListener("scroll",()=>{if(!this.isSectionVisible())return;const e=window.scrollY-this.ref.offsetTop,t=this.ref.offsetHeight,i=e/t;this.segmentProgress=i*(this.cameraSteps.length-1)})}moveMachine(){const e=Math.floor(this.segmentProgress),t=this.segmentProgress-e;if(e>=this.cameraSteps.length-1)return;const i=this.cameraSteps[Math.abs(e)],a=this.cameraSteps[Math.abs(e)+1];this.camera.position.x=this.lerp(i.x,a.x,t),this.camera.position.y=this.lerp(i.y,a.y,t),this.camera.position.z=this.lerp(i.z,a.z,t),this.camera.lookAt(0,1,0)}lerp(e,t,i){return e+(t-e)*i}}const A=x({__name:"SceneThree",setup(o){const e=c(),t=c(),i=c(!1),a=()=>{if(!e.value)return;const n=e.value.closest(".HomeThree").getBoundingClientRect();i.value=n.top<=0};return H(()=>{new B(t.value,e.value),window.addEventListener("scroll",a),window.addEventListener("resize",a),a()}),P(()=>{window.removeEventListener("scroll",a),window.removeEventListener("resize",a)}),(n,r)=>(S(),k("section",{class:"HomeThree",ref_key:"scene",ref:t},[y("div",{ref_key:"sceneThree",ref:e,class:z(["Scene",i.value?"Scene--fixed":"Scene--absolute"])},null,2),r[0]||(r[0]=C('<div class="HomeThree__title" data-v-698509c8><h2 data-v-698509c8> Mon <br data-v-698509c8> travail </h2></div><div class="HomeThree__nespresso" data-v-698509c8><h2 data-v-698509c8> Chez <br data-v-698509c8> Nespresso </h2></div><div class="HomeThree__presentation" data-v-698509c8><p data-v-698509c8> Développeur travaillant essentiellement avec Vue.js et Nuxt.js, je conçois des solutions sur mesure pour répondre aux besoins de mon client <em data-v-698509c8>Nespresso</em> sur leur site e-commerce. </p></div><div class="HomeThree__presentationOne" data-v-698509c8><p data-v-698509c8> Mon travail se concentre sur la création de pages impactantes pour les lancements de produits <em data-v-698509c8>(Vertuo Pop)</em>, la conception de pages événementielles pour des campagnes telles que <em data-v-698509c8>Black Friday 2022 &amp; 2023</em>, la nouvelle gamme <em data-v-698509c8>Compostable</em>, les collaborations avec <em data-v-698509c8>Jean Imbert</em>, <em data-v-698509c8>Pierre Hermé</em>, <em data-v-698509c8>Mory Sacko</em>, ainsi que le développement de la nouvelle <em data-v-698509c8>page d&#39;accueil 2024</em>. </p></div><div class="HomeThree__presentationTwo" data-v-698509c8><p data-v-698509c8> Pour améliorer <em data-v-698509c8>l&#39;efficacité</em> des équipes et fluidifier les processus, j&#39;ai également développé un <em data-v-698509c8>CMS</em>, permettant aux différents intervenants de collaborer efficacement et de gagner en autonomie. Mon objectif est de créer des expériences utilisateur <em data-v-698509c8>optimales</em> tout en garantissant une <em data-v-698509c8>simplicité</em> d&#39;utilisation. </p></div><div class="HomeThree__presentationThree" data-v-698509c8><img src="'+M+'" class="HomeThree__presentationThree__desktop" data-v-698509c8><img src="'+L+'" class="HomeThree__presentationThree__mobile" data-v-698509c8></div><div class="HomeThree__presentationFour" data-v-698509c8><img src="'+F+'" class="HomeThree__presentationFour__desktop" data-v-698509c8><img src="'+R+'" class="HomeThree__presentationFour__mobile" data-v-698509c8></div><div class="HomeThree__presentationFive" data-v-698509c8><img src="'+V+'" class="HomeThree__presentationFive__desktop" data-v-698509c8><img src="'+E+'" class="HomeThree__presentationFive__mobile" data-v-698509c8></div><div class="HomeThree__end" data-v-698509c8><h2 data-v-698509c8> Et bien <br data-v-698509c8> plus <br data-v-698509c8> encore ! </h2></div>',9))],512))}}),O=b(A,[["__scopeId","data-v-698509c8"]]);export{O as default};
